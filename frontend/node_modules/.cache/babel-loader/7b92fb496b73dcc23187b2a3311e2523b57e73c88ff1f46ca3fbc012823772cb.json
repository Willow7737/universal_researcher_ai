{"ast":null,"code":"import React,{useState}from'react';import axios from'../api';import CardResult from'../components/CardResult';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ResearchQuery(){const[q,setQ]=useState('catalyst for CO2');const[results,setResults]=useState([]);async function doQuery(e){e&&e.preventDefault();setResults([]);try{const r=await axios.post('/research/query',{q},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setResults(r.data.results||[]);}catch(e){var _e$response,_e$response$data;alert(((_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.detail)||e.message);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"layout\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"topnav\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",children:\"URAID Dashboard\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/research\",children:\"Research\"}),\" | \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:()=>{localStorage.removeItem('token');window.location='/login';},children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Research Query\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:doQuery,className:\"card row\",children:[/*#__PURE__*/_jsx(\"input\",{value:q,onChange:e=>setQ(e.target.value),style:{flex:1}}),/*#__PURE__*/_jsx(\"button\",{children:\"Search\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"results\",children:[results.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:\"No results. Try seeding demo from backend: POST /research/seed_demo\"}),results.map(r=>/*#__PURE__*/_jsx(CardResult,{item:r},r.id))]})]})]});}","map":{"version":3,"names":["React","useState","axios","CardResult","Link","jsx","_jsx","jsxs","_jsxs","ResearchQuery","q","setQ","results","setResults","doQuery","e","preventDefault","r","post","headers","Authorization","concat","localStorage","getItem","data","_e$response","_e$response$data","alert","response","detail","message","className","children","to","href","onClick","removeItem","window","location","onSubmit","value","onChange","target","style","flex","length","map","item","id"],"sources":["/data/data/com.termux/files/home/universal_researcher_ai_merged/frontend/src/pages/ResearchQuery.js"],"sourcesContent":["import React, {useState} from 'react';\nimport axios from '../api';\nimport CardResult from '../components/CardResult';\nimport { Link } from 'react-router-dom';\n\nexport default function ResearchQuery(){\n  const [q, setQ] = useState('catalyst for CO2');\n  const [results, setResults] = useState([]);\n\n  async function doQuery(e){\n    e && e.preventDefault();\n    setResults([]);\n    try{\n      const r = await axios.post('/research/query', { q }, { headers: { Authorization:`Bearer ${localStorage.getItem('token')}` } });\n      setResults(r.data.results || []);\n    }catch(e){\n      alert(e.response?.data?.detail || e.message);\n    }\n  }\n\n  return (\n    <div className=\"layout\">\n      <nav className=\"topnav\">\n        <div><Link to=\"/dashboard\">URAID Dashboard</Link></div>\n        <div><Link to=\"/research\">Research</Link> | <a href=\"#\" onClick={()=>{localStorage.removeItem('token'); window.location='/login';}}>Logout</a></div>\n      </nav>\n      <main>\n        <h1>Research Query</h1>\n        <form onSubmit={doQuery} className=\"card row\">\n          <input value={q} onChange={e=>setQ(e.target.value)} style={{flex:1}}/>\n          <button>Search</button>\n        </form>\n\n        <div className=\"results\">\n          {results.length===0 && <div className=\"card\">No results. Try seeding demo from backend: POST /research/seed_demo</div>}\n          {results.map(r=> <CardResult key={r.id} item={r} />)}\n        </div>\n      </main>\n    </div>\n  )\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}